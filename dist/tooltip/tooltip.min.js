!function(){function t(t){return t in M}function e(){var t=document.documentElement,e={left:t.scrollLeft||document.body.scrollLeft||0,top:t.scrollTop||document.body.scrollTop||0,width:t.clientWidth,height:t.clientHeight};return e.right=e.left+e.width,e.bottom=e.top+e.height,e}function n(t){var n=t.getBoundingClientRect(),r=e(),i=r.left,o=r.top;return{left:n.left+i,right:n.right+i,top:n.top+o,bottom:n.bottom+o,width:n.width,height:n.height}}function r(t,e){var e=void 0!==e?e:n(t);return{x:t.offsetWidth?e.width/t.offsetWidth:1,y:t.offsetHeight?e.height/t.offsetHeight:1}}function i(t,e){if(t.right<e.left||e.right<t.left||t.bottom<e.top||e.bottom<t.top)return null;var n={left:Math.max(t.left,e.left),top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom)};return n.width=n.right-n.left,n.height=n.bottom-n.top,n.width<0||n.height<0?null:n}function o(t,e,n){this.eventType=e,this.listenerFn=n,this.elem=t,this._attachedFn=null}function a(t){this._cachedListener=null,this._tooltips=[];var e=this,n=function(t){e._tooltips.forEach(function(e){e.xtag._skipOuterClick||!e.hasAttribute("visible")||e.ignoreOuterTrigger||f(t.target,e)||k(e),e.xtag._skipOuterClick=!1})},r=this._cachedListener=new o(document,t,n);r.attachListener()}function s(){this.eventStructDict={}}function u(t,e,n){var r=function(e){n&&f(e.target,t.previousElementSibling)&&n.call(t.previousElementSibling,e)};return new o(document.documentElement,e,r)}function l(t,e,n){var r=e+":delegate(x-tooltip+*)",i=function(e){n&&this===t.nextElementSibling&&n.call(this,e)};return new o(document.documentElement,r,i)}function c(t,e,n,r){if(e===D)return u(t,n,r);if(e===I)return l(t,n,r);var i=n+":delegate("+e+")";return new o(document.documentElement,i,function(e){var n=this;f(n,t)||r.call(n,e)})}function d(t,e,n){var r=[],i=function(){var e=this;t.xtag._skipOuterClick=!0,t.hasAttribute("visible")?e===t.xtag.lastTargetElem?k(t):C(t,e):C(t,e)},o=c(t,e,n,i);return r.push(o),r}function h(t,e){for(;t;){if(e(t))return t;t=t.parentNode}return null}function f(t,e){if(e.contains)return e.contains(t);var n=function(t){return t===e};return!!h(t,n)}function g(t){return function(e){var n=this,r=e.relatedTarget||e.toElement;r?f(r,n)||t.call(this,e):t.call(this,e)}}function p(t,e){var n=[];n=e===D?t.previousElementSibling?[t.previousElementSibling]:[]:e===I?t.nextElementSibling?[t.nextElementSibling]:[]:xtag.query(document,e);for(var r=0;r<n.length;){var i=n[r];f(i,t)?n.splice(r,1):r++}return n}function v(t,e){var r=function(t,e,n){return n.left<=t&&t<=n.right&&n.top<=e&&e<=n.bottom},i=n(t),o=n(e),a=function(t,e){return r(t.left,t.top,e)||r(t.right,t.top,e)||r(t.right,t.bottom,e)||r(t.left,t.bottom,e)},s=function(t,e){return t.top<=e.top&&e.bottom<=t.bottom&&e.left<=t.left&&t.right<=e.right};return a(i,o)||a(o,i)||s(i,o)||s(o,i)}function m(t,e,n){var r=n*(Math.PI/180),i=t*Math.sin(r)+e*Math.cos(r),o=t*Math.cos(r)+e*Math.sin(r);return{height:i,width:o}}function b(t,e,n){var r=t;return r=void 0!==e&&null!==e?Math.max(e,r):r,r=void 0!==n&&null!==n?Math.min(n,r):r}function x(t,e,i,o,a){var s,u;if(i===window)s=t,u=e;else{var l=n(i);s=t-l.left,u=e-l.top}var c=n(o);a=a?a:r(o,c);var d=o.clientTop*a.y,h=o.clientLeft*a.x,g=o.scrollTop*a.y,p=o.scrollLeft*a.x,v={left:s-c.left-h,top:u-c.top-d};return!f(document.body,o)&&f(o,document.body)&&(v.top+=g,v.left+=p),v}function y(t,r){r||(r=n(t.offsetParent||t.parentNode));var o=e(),a=o;return t.allowOverflow||(a=i(o,r),a||(a=r)),a}function _(t,e){if(0===e.length)return null;for(var n=y(t),r=n.left,i=n.top,o=n.right,a=n.bottom,s=[],u=[],l=0;l<e.length;l++){var c=e[l],d=c.rect;d.left<r||d.top<i||d.right>o||d.bottom>a?u.push(c):s.push(c)}var h=s.length>0?s:u;return h[0].orient}function E(t){t.setAttribute("_force-display",!0)}function w(t){t.removeAttribute("_force-display")}function A(e,n){e.removeAttribute(P);var r=e.xtag.arrowEl,i=[];for(var o in M){r.setAttribute(R,M[o]);var a=T(e,n,o);a&&(E(e),v(e,n)||i.push({orient:o,rect:a}),w(e))}var s=_(e,i);return s||(s="top"),e.setAttribute(P,s),r.setAttribute(R,M[s]),t(s)&&s!==o?T(e,n,s):a}function T(i,o,a,s){if(!i.parentNode)return i.left="",i.top="",null;s=void 0===s?0:s;var u=i.xtag.arrowEl;if(!t(a))return A(i,o);var l=i.offsetParent?i.offsetParent:i.parentNode;s||(i.style.top="",i.style.left="",u.style.top="",u.style.left=""),E(i);var c=e(),d=n(l),g=r(l,d),p=l.clientWidth*g.x,v=l.clientHeight*g.y,_=n(o),C=_.width,k=_.height,N=n(i),S=r(i,N),O=N.width,L=N.height,M=N.width,D=N.height,I=(M-O)/2,R=(D-L)/2,P=u.offsetWidth*S.x,j=u.offsetHeight*S.y,U=45,F=m(P,j,U);P=F.width,j=F.height,"top"===a||"bottom"===a?j/=2:P/=2;var H=y(i,d),q=H.left,V=H.top,W=H.right-O,z=H.bottom-L,B={left:_.left+(C-O)/2,top:_.top+(k-L)/2},Y=B.left,J=B.top;if("top"===a)J=_.top-D-j,z-=j;else if("bottom"===a)J=_.top+k+j,z-=j;else if("left"===a)Y=_.left-M-P,W-=P;else{if("right"!==a)throw"invalid orientation "+a;Y=_.left+C+P,W-=P}var G=b(Y,q,W),X=b(J,V,z);G+=I,X+=R;var K,$,Z=function(t){if(!window.getComputedStyle||t===document||t===document.documentElement)return!1;var e;try{e=window.getComputedStyle(t)}catch(n){return!1}return e&&"fixed"===e.position},Q=h(o,Z);if(Q&&!f(i,Q))K=G-c.left,$=X-c.top,i.setAttribute("_target-fixed",!0);else{var te=x(G,X,window,l,g);K=te.left,$=te.top,i.removeAttribute("_target-fixed")}i.style.top=$+"px",i.style.left=K+"px";var ee,ne,re,ie,oe;"top"===a||"bottom"===a?(ie=(C-P)/2,oe=_.left-G,ee=O-P,ne=O,re="left"):(ie=(k-j)/2,oe=_.top-X,ee=L-j,ne=L,re="top");var ae=b(ie+oe,0,ee),se=ne?ae/ne:0;u.style[re]=100*se+"%";var ue=i.offsetWidth*S.x,le=i.offsetHeight*S.y,ce=l.clientWidth*g.x,de=l.clientHeight*g.y;w(i);var he=2;return he>s&&(O!==ue||L!==le||p!==ce||v!==de)?T(i,o,a,s+1):{left:G,top:X,width:ue,height:le,right:G+ue,bottom:X+le}}function C(t,e){e===t&&console.warn("The tooltip's target element is the tooltip itself! Is this intentional?");var n=t.xtag.arrowEl;n.parentNode||console.warn("The inner component DOM of the tooltip appears to be missing. Make sure to edit tooltip contents through the .contentEl property instead ofdirectly on the x-tooltip to avoid clobbering the component's internals.");var r=t.orientation,i=function(){w(t),t.setAttribute("visible",!0),xtag.fireEvent(t,"tooltipshown",{triggerElem:e})};e?(t.xtag.lastTargetElem=e,xtag.skipTransition(t,function(){return T(t,e,r),i})):(t.style.top="",t.style.left="",n.style.top="",n.style.left="",i())}function k(e){t(e.orientation)&&e.removeAttribute(P),e.hasAttribute("visible")&&(E(e),e.xtag._hideTransitionFlag=!0,e.removeAttribute("visible"))}function N(t){var e=t.xtag.cachedListeners;e.forEach(function(t){t.removeListener()}),t.xtag.cachedListeners=[],O.unregisterTooltip(t.triggerStyle,t)}function S(t,e,n){if(t.parentNode){(void 0===e||null===e)&&(e=t.targetSelector),(void 0===n||null===n)&&(n=t.triggerStyle);var r=p(t,e);-1===r.indexOf(t.xtag.lastTargetElem)&&(t.xtag.lastTargetElem=r.length>0?r[0]:null,T(t,t.xtag.lastTargetElem,t.orientation)),N(t);var i;if(n in L){var o=L[n];i=o(t,e)}else i=d(t,e,n),O.registerTooltip(n,t);i.forEach(function(t){t.attachListener()}),t.xtag.cachedListeners=i,k(t)}}var O,L,M={top:"down",bottom:"up",left:"right",right:"left"},D="_previousSibling",I="_nextSibling",R="arrow-direction",P="_auto-orientation";o.prototype.attachListener=function(){this._attachedFn||(this._attachedFn=xtag.addEvent(this.elem,this.eventType,this.listenerFn))},o.prototype.removeListener=function(){this._attachedFn&&(xtag.removeEvent(this.elem,this.eventType,this._attachedFn),this._attachedFn=null)},a.prototype.destroy=function(){this._cachedListener.removeListener(),this._cachedListener=null,this._tooltips=null},a.prototype.containsTooltip=function(t){return-1!==this._tooltips.indexOf(t)},a.prototype.addTooltip=function(t){this.containsTooltip(t)||this._tooltips.push(t)},a.prototype.removeTooltip=function(t){this.containsTooltip(t)&&this._tooltips.splice(this._tooltips.indexOf(t),1)},Object.defineProperties(a.prototype,{numTooltips:{get:function(){return this._tooltips.length}}}),s.prototype.registerTooltip=function(t,e){if(t in this.eventStructDict){var n=this.eventStructDict[t];n.containsTooltip(e)||n.addTooltip(e)}else this.eventStructDict[t]=new a(t),this.eventStructDict[t].addTooltip(e)},s.prototype.unregisterTooltip=function(t,e){if(t in this.eventStructDict&&this.eventStructDict[t].containsTooltip(e)){var n=this.eventStructDict[t];n.removeTooltip(e),0===n.numTooltips&&(n.destroy(),delete this.eventStructDict[t])}},O=new s,L={custom:function(){return[]},hover:function(t,e){var n=[],r=null,i=200,a=function(){r&&window.clearTimeout(r),r=null},s=g(function(e){a();var n=this,r=e.relatedTarget||e.toElement;f(r,t)||C(t,n)}),u=g(function(e){a();var n=e.relatedTarget||e.toElement;f(n,t)||(r=window.setTimeout(function(){"hover"===t.triggerStyle&&k(t)},i))}),l=c(t,e,"enter",s),d=c(t,e,"leave",u);n.push(l),n.push(d);var h=g(function(e){a();var n=e.relatedTarget||e.toElement,r=t.xtag.lastTargetElem;t.hasAttribute("visible")||!r||f(n,r)||C(t,r)}),p=g(function(e){a();var n=e.relatedTarget||e.toElement,o=t.xtag.lastTargetElem;o&&!f(n,o)&&(r=window.setTimeout(function(){"hover"===t.triggerStyle&&k(t)},i))});return n.push(new o(t,"enter",h)),n.push(new o(t,"leave",p)),n}},xtag.register("x-tooltip",{lifecycle:{created:function(){var t=this;t.xtag.contentEl=document.createElement("div"),t.xtag.arrowEl=document.createElement("span"),xtag.addClass(t.xtag.contentEl,"tooltip-content"),xtag.addClass(t.xtag.arrowEl,"tooltip-arrow"),t.xtag.contentEl.innerHTML=t.innerHTML,t.innerHTML="",t.appendChild(t.xtag.contentEl),t.appendChild(t.xtag.arrowEl),t.xtag._orientation="auto",t.xtag._targetSelector=D,t.xtag._triggerStyle="click";var e=p(t,t.xtag._targetSelector);t.xtag.lastTargetElem=e.length>0?e[0]:null,t.xtag.cachedListeners=[],t.xtag._hideTransitionFlag=!1,t.xtag._skipOuterClick=!1},inserted:function(){S(this,this.xtag._targetSelector,this.xtag._triggerStyle)},removed:function(){N(this)}},events:{transitionend:function(t){var e=t.currentTarget;e.xtag._hideTransitionFlag&&!e.hasAttribute("visible")&&(e.xtag._hideTransitionFlag=!1,xtag.fireEvent(e,"tooltiphidden")),w(e)}},accessors:{orientation:{attribute:{},get:function(){return this.xtag._orientation},set:function(e){e=e.toLowerCase();var n=this.querySelector(".tooltip-arrow"),r=null;t(e)?(r=M[e],n.setAttribute(R,r),this.removeAttribute(P)):n.removeAttribute(R),this.xtag._orientation=e,this.refreshPosition()}},triggerStyle:{attribute:{name:"trigger-style"},get:function(){return this.xtag._triggerStyle},set:function(t){S(this,this.targetSelector,t),this.xtag._triggerStyle=t}},targetSelector:{attribute:{name:"target-selector"},get:function(){return this.xtag._targetSelector},set:function(t){p(this,t),S(this,t,this.triggerStyle),this.xtag._targetSelector=t}},ignoreOuterTrigger:{attribute:{"boolean":!0,name:"ignore-outer-trigger"}},ignoreTooltipPointerEvents:{attribute:{"boolean":!0,name:"ignore-tooltip-pointer-events"}},allowOverflow:{attribute:{"boolean":!0,name:"allow-overflow"},set:function(){this.refreshPosition()}},contentEl:{get:function(){return this.xtag.contentEl},set:function(t){var e=this.xtag.contentEl;xtag.addClass(t,"tooltip-content"),this.replaceChild(t,e),this.xtag.contentEl=t,this.refreshPosition()}},presetTriggerStyles:{get:function(){var t=[];for(var e in L)t.push(e);return t}},targetElems:{get:function(){return p(this,this.targetSelector)}}},methods:{refreshPosition:function(){this.xtag.lastTargetElem&&T(this,this.xtag.lastTargetElem,this.orientation)},show:function(){C(this,this.xtag.lastTargetElem)},hide:function(){k(this)},toggle:function(){this.hasAttribute("visible")?this.hide():this.show()}}})}();